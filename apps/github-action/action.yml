name: "LazyPR AI PR Summary"

description: "Generates AI-powered PR summaries with Ghost Commit detection, impact scoring, and automated reviewer checklists"
author: "elvis-ndubuisi"

inputs:
  api_key:
    description: "API key for your LLM provider (OpenAI, Anthropic, or Google Gemini)"
    required: true
  provider:
    description: "LLM provider to use (openai, anthropic, or gemini)"
    required: false
    default: "openai"
  model:
    description: "Model to use (defaults to provider-specific model if not specified)"
    required: false
    default: ""
  template:
    description: "Built-in prompt preset to use (default, concise, verbose, security-focused). Ignored if a valid custom template is found."
    required: false
    default: "default"
  custom_template:
    description: "Whether to load a custom template from the repository (true/false)"
    required: false
    default: "true"
  custom_template_path:
    description: "Optional explicit path to a custom template file in the repo (e.g. .github/lazypr-template.md)"
    required: false
    default: ""
  github_token:
    description: "GitHub token for API access (automatically provided by GitHub Actions)"
    required: true

outputs:
  summary:
    description: "Generated PR summary"
  has_ghost_commits:
    description: "Whether ghost commits were detected"
  risk_level:
    description: "Risk level of the PR changes (LOW, MEDIUM, or HIGH)"
  impact_score:
    description: "Impact score from 0-100"

runs:
  using: "node20"
  main: "dist/index.js"

branding:
  icon: "git-pull-request"
  color: "purple"
